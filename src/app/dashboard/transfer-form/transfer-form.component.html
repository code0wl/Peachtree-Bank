<mat-card class="transfer-form-card">
  <mat-card-header class="transfer-form--header" fxLayoutAlign="start center">
    <mat-icon mat-card-avatar>account_balance_wallet</mat-icon>
    <mat-card-title>Make Transfer</mat-card-title>
  </mat-card-header>
  <mat-card-content class="transfer-form--content">
    <form (ngSubmit)="onSubmit()" [formGroup]=transferForm fxLayout="column" fxLayoutGap="1rem">
      <div fxLayout="column" fxLayoutGap="0.5rem">
        <label for="from-account">From Account</label>
        <input formControlName="fromAccount" id="from-account" type="text">
      </div>
      <div fxLayout="column" fxLayoutGap="0.5rem">
        <div fxFlex="100"><label for="merchant-search">To Account</label></div>
        <div class="auto-complete-input--wrapper" fxLayout="column">
          <input (ngModelChange)="getFilteredMerchants($event)" autocomplete="off" formControlName="merchantSearch"
                 id="merchant-search" placeholder="type an account name"
                 [ngClass]="isInValidField('merchantSearch') ? 'error' : ''" type="text">
          <small *ngIf="isInValidField('merchantSearch')"
                 class="error-text">{{getErrorMessage('merchantSearch')}}</small>
          <div *ngIf="showMerchantOptions" class="auto-complete-input--options">
            <mat-option (onSelectionChange)="setMerchant(merchant)" *ngFor="let merchant of filteredMerchants"
                        [value]="merchant">
              {{ merchant.name }}
            </mat-option>
          </div>
        </div>
      </div>
      <div fxLayout="column" fxLayoutGap="0.5rem">
        <div fxFlex="100"><label for="amount">Amount</label></div>
        <div fxLayout="column">
          <div class="input-icon" fxFlex="100%" fxLayoutGap="0.5rem">
            <i [innerHTML]="userAccount.currencyCode" fxLayoutAlign="center center"></i>
            <input [ngClass]="isInValidField('merchantSearch') ? 'error' : ''" autocomplete="off"
                   formControlName="amount" fxFlex="100%" id="amount" min="0" placeholder="0.00"
                   type="number">
          </div>
          <small *ngIf="isInValidField('amount')" class="error-text">{{getErrorMessage('amount')}}</small>
        </div>

      </div>
      <div *ngIf="amount.errors && amount.errors.overdraft">There is no enough balance</div>
    </form>
  </mat-card-content>
  <mat-card-actions>
    <app-submit-button (submitForm)="onSubmit()" fxLayoutAlign="end end">Submit</app-submit-button>
  </mat-card-actions>
</mat-card>


